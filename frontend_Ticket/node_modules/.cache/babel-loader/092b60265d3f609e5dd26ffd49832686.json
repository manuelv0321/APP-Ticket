{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\src\\\\componentes\\\\Ticket\\\\Tickets.js\";\nimport React, { useEffect, useState, useContext, Fragment } from 'react'; // importar cliente axios\n\nimport clienteAxios from '../../config/axios';\nimport Cliente from '../clientes/Cliente';\nimport Spinner from '../layout/Spinner';\nimport { Link, withRouter } from 'react-router-dom';\nimport DataTable from 'react-data-table-component';\n\nfunction Tickets(props) {\n  // Trabajar con el state\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      clientes = _useState2[0],\n      guardarClientes = _useState2[1]; // use effect es similar a componentdidmount y willmount\n\n\n  useEffect(function () {\n    consultarAPI();\n  }, []);\n  var columna = [{\n    name: 'ID',\n    selector: 'id',\n    sortable: true\n  }, {\n    name: 'DATE',\n    selector: 'date',\n    sortable: true\n  }, {\n    name: 'SUBJECT',\n    selector: 'subject',\n    sortable: true\n  }, {\n    name: 'description',\n    selector: 'description',\n    sortable: true\n  }, {\n    name: 'user_id',\n    selector: 'user_id',\n    sortable: true\n  }, {\n    name: 'name',\n    selector: 'name',\n    sortable: true\n  }, {\n    name: 'action',\n    cell: function cell() {\n      return React.createElement(React.Fragment, null, React.createElement(\"span\", {\n        onClick: function onClick() {\n          return handleButtonClick(row.id);\n        },\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Pencil, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), '     ', React.createElement(\"span\", {\n        onClick: function onClick() {\n          return handleButtonClick(row.id);\n        },\n        className: \"btn btn-danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(Trash, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })));\n    }\n  }];\n\n  handleButtonClick = function handleButtonClick(state) {\n    console.log('clicked');\n    console.log(state.target.id);\n  }; // Query a la API\n\n\n  var consultarAPI =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var clientesConsulta;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return clienteAxios.get('/Ticket', {\n                headers: {\n                  Authorization: \"Bearer \".concat(localStorage.getItem('token'))\n                }\n              });\n\n            case 3:\n              clientesConsulta = _context.sent;\n              // colocar el resultado en el state\n              guardarClientes(clientesConsulta.data);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n\n              // Error con authorizacion\n              if (_context.t0.response.status = 500) {\n                props.history.push('/iniciar-sesion');\n              }\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function consultarAPI() {\n      return _ref.apply(this, arguments);\n    };\n  }(); // Si el state esta como false\n\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, \"Tickets\"), React.createElement(Link, {\n    to: \"/ticket/nuevo\",\n    className: \"btn btn-verde nvo-cliente\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fas fa-plus-circle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), \"Nuevo Ticket\"), React.createElement(DataTable, {\n    columns: columna,\n    data: clientes,\n    title: \"Listado De Tickets\",\n    pagination: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }));\n}\n\nexport default withRouter(Tickets);","map":{"version":3,"sources":["C:\\laragon\\www\\frontend_Ticket\\src\\componentes\\Ticket\\Tickets.js"],"names":["React","useEffect","useState","useContext","Fragment","clienteAxios","Cliente","Spinner","Link","withRouter","DataTable","Tickets","props","clientes","guardarClientes","consultarAPI","columna","name","selector","sortable","cell","handleButtonClick","row","id","state","console","log","target","get","headers","Authorization","localStorage","getItem","clientesConsulta","data","response","status","history","push"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,UAArC,EAAiDC,QAAjD,QAAiE,OAAjE,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,oBAAzB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,OAAOC,SAAP,MAAsB,4BAAtB;;AAIA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAEpB;AAFoB,kBAIgBV,QAAQ,CAAC,EAAD,CAJxB;AAAA;AAAA,MAIbW,QAJa;AAAA,MAIHC,eAJG,kBAQpB;;;AACAb,EAAAA,SAAS,CAAE,YAAM;AAEbc,IAAAA,YAAY;AAIf,GANQ,EAMN,EANM,CAAT;AAQD,MAAMC,OAAO,GAAG,CACZ;AACCC,IAAAA,IAAI,EAAE,IADP;AAECC,IAAAA,QAAQ,EAAE,IAFX;AAGCC,IAAAA,QAAQ,EAAE;AAHX,GADY,EAMZ;AACCF,IAAAA,IAAI,EAAE,MADP;AAECC,IAAAA,QAAQ,EAAE,MAFX;AAGCC,IAAAA,QAAQ,EAAE;AAHX,GANY,EAWZ;AACCF,IAAAA,IAAI,EAAE,SADP;AAECC,IAAAA,QAAQ,EAAE,SAFX;AAGCC,IAAAA,QAAQ,EAAE;AAHX,GAXY,EAgBZ;AACCF,IAAAA,IAAI,EAAE,aADP;AAECC,IAAAA,QAAQ,EAAE,aAFX;AAGCC,IAAAA,QAAQ,EAAE;AAHX,GAhBY,EAqBZ;AACCF,IAAAA,IAAI,EAAE,SADP;AAECC,IAAAA,QAAQ,EAAE,SAFX;AAGCC,IAAAA,QAAQ,EAAE;AAHX,GArBY,EA0BZ;AACCF,IAAAA,IAAI,EAAE,MADP;AAECC,IAAAA,QAAQ,EAAE,MAFX;AAGCC,IAAAA,QAAQ,EAAE;AAHX,GA1BY,EA+BZ;AACCF,IAAAA,IAAI,EAAE,QADP;AAECG,IAAAA,IAAI,EAAE;AAAA,aACF,0CACF;AAAM,QAAA,OAAO,EAAE;AAAA,iBAAMC,iBAAiB,CAACC,GAAG,CAACC,EAAL,CAAvB;AAAA,SAAf;AAAgD,QAAA,SAAS,EAAC,iBAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4E,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA5E,CADE,EAC2F,OAD3F,EAEF;AAAM,QAAA,OAAO,EAAE;AAAA,iBAAMF,iBAAiB,CAACC,GAAG,CAACC,EAAL,CAAvB;AAAA,SAAf;AAAgD,QAAA,SAAS,EAAC,gBAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2E,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA3E,CAFE,CADE;AAAA;AAFP,GA/BY,CAAhB;;AA0CAF,EAAAA,iBAAiB,GAAG,2BAACG,KAAD,EAAW;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,MAAN,CAAaJ,EAAzB;AACD,GAHA,CA3DqB,CA+DxB;;;AACA,MAAMR,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEkBV,YAAY,CAACuB,GAAb,CAAiB,SAAjB,EAA4B;AACvDC,gBAAAA,OAAO,EAAE;AACLC,kBAAAA,aAAa,mBAAaC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAb;AADR;AAD8C,eAA5B,CAFlB;;AAAA;AAEPC,cAAAA,gBAFO;AAQb;AACAnB,cAAAA,eAAe,CAACmB,gBAAgB,CAACC,IAAlB,CAAf;AATa;AAAA;;AAAA;AAAA;AAAA;;AAYb;AACA,kBAAG,YAAMC,QAAN,CAAeC,MAAf,GAAwB,GAA3B,EAAgC;AAC5BxB,gBAAAA,KAAK,CAACyB,OAAN,CAAcC,IAAd,CAAmB,iBAAnB;AACH;;AAfY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZvB,YAAY;AAAA;AAAA;AAAA,KAAlB,CAhEwB,CAkFpB;;;AAMA,SACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,EAII,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAE,eAAV;AAA2B,IAAA,SAAS,EAAC,2BAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,iBAJJ,EASI,oBAAC,SAAD;AACI,IAAA,OAAO,EAAEC,OADb;AAEI,IAAA,IAAI,EAAEH,QAFV;AAGI,IAAA,KAAK,EAAC,oBAHV;AAII,IAAA,UAAU,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CADJ;AAoBH;;AACD,eAAeJ,UAAU,CAACE,OAAD,CAAzB","sourcesContent":["import React, {Â useEffect, useState, useContext, Fragment } from 'react';\r\n\r\n// importar cliente axios\r\nimport clienteAxios from '../../config/axios';\r\nimport Cliente from '../clientes/Cliente';\r\nimport Spinner from '../layout/Spinner';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport DataTable from 'react-data-table-component';\r\n\r\n\r\n\r\nfunction Tickets(props) {\r\n\r\n    // Trabajar con el state\r\n    // clientes = state,  guardarClientes = funcion para guardar el state\r\n    const [clientes, guardarClientes] = useState([]);\r\n\r\n    \r\n\r\n    // use effect es similar a componentdidmount y willmount\r\n    useEffect( () => {\r\n\r\n        consultarAPI();\r\n            \r\n           \r\n       \r\n    }, [] );\r\n\r\n   const columna = [\r\n       {\r\n        name: 'ID',\r\n        selector: 'id',\r\n        sortable: true\r\n       },\r\n       {\r\n        name: 'DATE',\r\n        selector: 'date',\r\n        sortable: true\r\n       },\r\n       {\r\n        name: 'SUBJECT',\r\n        selector: 'subject',\r\n        sortable: true\r\n       },\r\n       {\r\n        name: 'description',\r\n        selector: 'description',\r\n        sortable: true\r\n       },\r\n       {\r\n        name: 'user_id',\r\n        selector: 'user_id',\r\n        sortable: true\r\n       },\r\n       {\r\n        name: 'name',\r\n        selector: 'name',\r\n        sortable: true\r\n       },\r\n       {\r\n        name: 'action',\r\n        cell: ( ) => (\r\n            <>\r\n          <span onClick={() => handleButtonClick(row.id)} className='btn btn-primary'><Pencil/></span>{'     '}\r\n          <span onClick={() => handleButtonClick(row.id)} className='btn btn-danger'><Trash/></span>\r\n          </>\r\n        ),\r\n       }\r\n      \r\n   ] \r\n   handleButtonClick = (state) => {\r\n    console.log('clicked');\r\n    console.log(state.target.id);\r\n  };\r\n// Query a la API\r\nconst consultarAPI = async () => {\r\n    try {\r\n        const clientesConsulta = await clienteAxios.get('/Ticket', {\r\n            headers: {\r\n                Authorization : `Bearer ${localStorage.getItem('token')}`\r\n            }\r\n        });\r\n\r\n        // colocar el resultado en el state\r\n        guardarClientes(clientesConsulta.data);\r\n\r\n    } catch (error) {\r\n        // Error con authorizacion\r\n        if(error.response.status = 500) {\r\n            props.history.push('/iniciar-sesion');\r\n        }\r\n    }\r\n}\r\n    // Si el state esta como false\r\n \r\n\r\n   \r\n\r\n    \r\n    return (\r\n        <Fragment>\r\n        \r\n            <h2>Tickets</h2>\r\n\r\n            <Link to={\"/ticket/nuevo\"} className=\"btn btn-verde nvo-cliente\"> \r\n                <i className=\"fas fa-plus-circle\"></i>\r\n                Nuevo Ticket\r\n            </Link>\r\n\r\n            <DataTable\r\n                columns={columna}\r\n                data={clientes}\r\n                title='Listado De Tickets'\r\n                pagination\r\n            />\r\n           \r\n\r\n        </Fragment>\r\n    )\r\n}\r\nexport default withRouter(Tickets);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _regeneratorRuntime from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\src\\\\componentes\\\\auth\\\\Login.js\";\nimport React, { useState } from 'react';\nimport Swal from 'sweetalert2';\nimport { withRouter } from 'react-router-dom';\nimport clienteAxios from '../../config/axios';\nimport Axios from 'axios';\n\nfunction Login(props) {\n  // Auth y token\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      credenciales = _useState2[0],\n      guardarCredenciales = _useState2[1]; // iniciar sesión en el servidor\n\n\n  var iniciarSesion =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var data, config;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault(); // console.log(\"llego\")\n              // autenticar al usuario\n\n              _context.prev = 1;\n              //  console.log(credenciales);\n\n              /*  Axios.post('http://localhost:5000/iniciar-sesion',credenciales)\n                    .then((response) => {\n                        console.log(response);\n                    })\n                    .catch((error) => {\n                        console.log(error);\n                    });*/\n              data = {\n                data: credenciales\n              };\n              console.log(data);\n              config = {\n                headers: {\n                  'content-type': 'application/x-www-form-urlencoded'\n                }\n              };\n              return _context.abrupt(\"return\", Axios.post('http://localhost:5000/iniciar-sesion', data, {\n                config: config\n              }).then(function (response) {\n                return response.data;\n              }));\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              Swal.fire({\n                type: 'error',\n                title: 'Hubo un error',\n                text: _context.t0.response.data.mensaje\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n\n    return function iniciarSesion(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // almacenar lo que el usuario escribe en el state\n\n\n  var leerDatos = function leerDatos(e) {\n    //console.log(e)\n    guardarCredenciales(_objectSpread({}, credenciales, _defineProperty({}, e.target.name, e.target.value)));\n  };\n\n  return React.createElement(\"div\", {\n    className: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Iniciar Sesi\\xF3n\"), React.createElement(\"div\", {\n    className: \"contenedor-formulario\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: iniciarSesion,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"campo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"username\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Usuario para Iniciar Sesi\\xF3n\",\n    required: true,\n    onChange: leerDatos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"campo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Password\"), React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password para Iniciar Sesi\\xF3n\",\n    required: true,\n    onChange: leerDatos,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Iniciar Sesi\\xF3n\",\n    className: \"btn btn-verde btn-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }))));\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["C:\\laragon\\www\\frontend_Ticket\\src\\componentes\\auth\\Login.js"],"names":["React","useState","Swal","withRouter","clienteAxios","Axios","Login","props","credenciales","guardarCredenciales","iniciarSesion","e","preventDefault","data","console","log","config","headers","post","then","response","fire","type","title","text","mensaje","leerDatos","target","name","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport Swal from 'sweetalert2';\nimport { withRouter } from 'react-router-dom';\nimport clienteAxios from '../../config/axios';\nimport Axios from 'axios';\n\n\nfunction Login(props){\n\n    // Auth y token\n   \n\n    // State con los datos del formulario\n    const [ credenciales, guardarCredenciales] = useState({});\n\n\n    // iniciar sesión en el servidor\n    const iniciarSesion = async e => {\n        e.preventDefault();\n\n       // console.log(\"llego\")\n\n        // autenticar al usuario\n\n        try {\n\n          //  console.log(credenciales);\n          /*  Axios.post('http://localhost:5000/iniciar-sesion',credenciales)\n                .then((response) => {\n                    console.log(response);\n                })\n                .catch((error) => {\n                    console.log(error);\n                });*/\n\n                const data = {\n                    data: credenciales\n                };\n                console.log(data);\n                const config = {\n                    headers: {'content-type': 'application/x-www-form-urlencoded'}\n                };\n                return Axios.post('http://localhost:5000/iniciar-sesion', data, {config}).then(\n                    response => response.data\n                );\n\n            \n            //const respuesta = await Axios.post('http://localhost:5000/iniciar-sesion', credenciales);\n            \n            // extraer el token y colocarlo en localstorage\n           /* const { token } = respuesta.data;\n            localStorage.setItem('token', token);*/\n\n            // colocarlo en el state\n            /*guardarAuth({\n                token, \n                auth: true\n            })*/\n\n            // alerta\n           /* Swal.fire(\n                'Login Correcto',\n                'Has iniciado Sesión',\n                'success'\n            )\n\n            // redireccionar\n            props.history.push('/');*/\n\n            \n        } catch (error) {\n            console.log(error);\n            Swal.fire({\n                type: 'error',\n                title: 'Hubo un error',\n                text: error.response.data.mensaje\n            })\n        }\n    }\n\n    // almacenar lo que el usuario escribe en el state\n    const leerDatos = e => {\n        //console.log(e)\n        guardarCredenciales({\n            ...credenciales,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    return(\n\n        <div className=\"login\">\n            <h2>Iniciar Sesión</h2>\n\n            <div className=\"contenedor-formulario\">\n                <form\n                    onSubmit={iniciarSesion}\n                >\n\n                    <div className=\"campo\">\n                        <label>username</label>\n                        <input \n                            type=\"text\"\n                            name=\"username\"\n                            placeholder=\"Usuario para Iniciar Sesión\"\n                            required\n                            onChange={leerDatos}\n                        />\n                    </div>\n\n                    <div className=\"campo\">\n                        <label>Password</label>\n                        <input \n                            type=\"password\"\n                            name=\"password\"\n                            placeholder=\"Password para Iniciar Sesión\"\n                            required\n                            onChange={leerDatos}\n                        />\n                    </div>\n\n                    <input type=\"submit\" value=\"Iniciar Sesión\" className=\"btn btn-verde btn-block\" />\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\laragon\\\\www\\\\frontend_Ticket\\\\src\\\\componentes\\\\Ticket\\\\Report.js\";\nimport React, { useEffect, useState, useContext, Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport clienteAxios from '../../config/axios';\nimport Swal from 'sweetalert2';\nimport DataTable from 'react-data-table-component';\n\nfunction Report() {\n  var _useState = useState({\n    start: '',\n    dateend: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      datos = _useState2[0],\n      guardarDatos = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      estado = _useState4[0],\n      setestado = _useState4[1];\n\n  var actualizarState = function actualizarState(e) {\n    // Almacenar lo que el usuario escribe en el state\n    guardarDatos(_objectSpread({}, datos, _defineProperty({}, e.target.name, e.target.value)));\n  }; // Añade en la REST API un cliente nuevo\n\n\n  var GererarReporte = function GererarReporte(e) {\n    e.preventDefault(); //  console.log(datos);\n\n    if (datos.dateend == '' || datos.start == '') {\n      Swal.fire({\n        type: 'error',\n        title: 'Hubo un error',\n        text: 'debes seleccionar una fecha valida'\n      });\n      return;\n    } else {\n      var report = {};\n      report.fechas = datos;\n      report.estado = estado;\n      console.log(report);\n      clienteAxios.post('/Report', Ticket, {\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem('token'))\n        }\n      });\n    }\n    /*  var Ticket = {};\r\n      Ticket.cliente =cliente;\r\n      Ticket.Usuarios = users; \r\n      // enviar petición\r\n      clienteAxios.post('/Tickets', Ticket,{\r\n          headers: {\r\n              Authorization : `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n      })\r\n          .then(res => {\r\n              // validar si hay errores de mongo \r\n              if(res.data ==='No Autenticado, no hay JWT') {\r\n                  Swal.fire({\r\n                      type: 'error',\r\n                      title: 'Hubo un error',\r\n                      text: 'Token expirado o no existe'\r\n                  })\r\n                  history.push('/iniciar-sesion');\r\n              } else {\r\n                  Swal.fire(\r\n                      'Se agregó el Cliente',\r\n                      res.data.mensaje,\r\n                      'success'\r\n                  )\r\n              }\r\n              // Redireccionar\r\n              history.push('/');\r\n          });*/\n\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Report\"), React.createElement(\"form\", {\n    onSubmit: GererarReporte,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"campo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"date start:\"), React.createElement(\"input\", {\n    type: \"date\",\n    placeholder: \"Empresa Cliente\",\n    name: \"start\",\n    onChange: actualizarState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"campo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"date end:\"), React.createElement(\"input\", {\n    type: \"date\",\n    placeholder: \"Email Cliente\",\n    name: \"dateend\",\n    onChange: actualizarState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"campo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Estado:\"), React.createElement(\"select\", {\n    className: \"campo\",\n    name: \"user\",\n    value: estado,\n    onChange: function onChange(e) {\n      var estado = e.target.value;\n      setestado(estado);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, \"Seleccionar\"), React.createElement(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Activo\"), React.createElement(\"option\", {\n    value: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Cerrado\"))), React.createElement(\"div\", {\n    className: \"enviar\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-azul\",\n    value: \"Generar Reporte\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }))));\n}\n\nexport default withRouter(Report);","map":{"version":3,"sources":["C:\\laragon\\www\\frontend_Ticket\\src\\componentes\\Ticket\\Report.js"],"names":["React","useEffect","useState","useContext","Fragment","Link","withRouter","clienteAxios","Swal","DataTable","Report","start","dateend","datos","guardarDatos","estado","setestado","actualizarState","e","target","name","value","GererarReporte","preventDefault","fire","type","title","text","report","fechas","console","log","post","Ticket","headers","Authorization","localStorage","getItem"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext, Fragment } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../config/axios';\r\nimport Swal from 'sweetalert2';\r\nimport DataTable from 'react-data-table-component';\r\n\r\nfunction Report() {\r\n\r\n    const[datos, guardarDatos] = useState({      \r\n        start : '',\r\n        dateend: ''\r\n    });\r\n\r\n    const [estado, setestado] = useState(0);\r\n\r\n    const actualizarState = e => {\r\n        // Almacenar lo que el usuario escribe en el state\r\n        guardarDatos({\r\n            // obtener una copia del state actual\r\n            ...datos, \r\n            [e.target.name] : e.target.value\r\n        })\r\n\r\n    }\r\n\r\n        // Añade en la REST API un cliente nuevo\r\n        const GererarReporte = e => {\r\n            e.preventDefault();\r\n    \r\n          //  console.log(datos);\r\n            if(datos.dateend=='' || datos.start==''){\r\n\r\n                Swal.fire({\r\n                    type: 'error',\r\n                    title: 'Hubo un error',\r\n                    text: 'debes seleccionar una fecha valida'\r\n                })\r\n\r\n                return;\r\n\r\n            }else{\r\n                \r\n                var report = {};\r\n                report.fechas = datos;\r\n                report.estado = estado;\r\n                console.log(report)\r\n\r\n                clienteAxios.post('/Report', Ticket,{\r\n                    headers: {\r\n                        Authorization : `Bearer ${localStorage.getItem('token')}`\r\n                    }\r\n                })\r\n                \r\n\r\n            }\r\n          /*  var Ticket = {};\r\n            Ticket.cliente =cliente;\r\n            Ticket.Usuarios = users; \r\n            // enviar petición\r\n            clienteAxios.post('/Tickets', Ticket,{\r\n                headers: {\r\n                    Authorization : `Bearer ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n                .then(res => {\r\n                    // validar si hay errores de mongo \r\n                    if(res.data ==='No Autenticado, no hay JWT') {\r\n                        Swal.fire({\r\n                            type: 'error',\r\n                            title: 'Hubo un error',\r\n                            text: 'Token expirado o no existe'\r\n                        })\r\n                        history.push('/iniciar-sesion');\r\n                    } else {\r\n                        Swal.fire(\r\n                            'Se agregó el Cliente',\r\n                            res.data.mensaje,\r\n                            'success'\r\n                        )\r\n                    }\r\n                    // Redireccionar\r\n                    history.push('/');\r\n                });*/\r\n        }\r\n    \r\n\r\n\r\n    return (\r\n        <Fragment>\r\n\r\n            <h2>Report</h2>\r\n\r\n            <form\r\n                onSubmit={GererarReporte}\r\n            >\r\n                <div className=\"campo\">\r\n                        <label>date start:</label>\r\n                        <input type=\"date\" \r\n                            placeholder=\"Empresa Cliente\" \r\n                            name=\"start\" \r\n                            onChange={actualizarState}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"campo\">\r\n                        <label>date end:</label>\r\n                        <input type=\"date\" \r\n                                placeholder=\"Email Cliente\" \r\n                                name=\"dateend\" \r\n                                onChange={actualizarState}\r\n                        />\r\n                    </div>\r\n                    <div className=\"campo\">\r\n                        <label>Estado:</label>\r\n                        <select\r\n                            className=\"campo\"\r\n                            name=\"user\"\r\n                            value={estado}\r\n                            onChange={(e) => {\r\n                            const estado = e.target.value;\r\n                            setestado(estado);\r\n                            }}\r\n                        >\r\n                            <option value=\"0\">Seleccionar</option> \r\n                            <option value=\"1\">Activo</option>  \r\n                            <option value=\"2\">Cerrado</option>     \r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"enviar\">\r\n                    <input \r\n                        type=\"submit\" \r\n                        className=\"btn btn-azul\" \r\n                        value=\"Generar Reporte\" \r\n                       \r\n                    />\r\n                </div>\r\n            </form>\r\n\r\n        </Fragment>\r\n       \r\n     )\r\n\r\n}\r\n\r\nexport default withRouter(Report);"]},"metadata":{},"sourceType":"module"}